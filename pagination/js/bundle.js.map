{"version":3,"file":"bundle.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,kCAAkC,wBAAwB;AAC1D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;;;;UCzCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;ACtBA;AACA,oBAAoB,mBAAO,CAAC,kDAAmB;AAC/C,eAAe,mBAAO,CAAC,4CAAgB;AACvC;AACA;AACA;AACA,CAAC,E","sources":["webpack://webhome/./js/modules/comment.js","webpack://webhome/./js/modules/form.js","webpack://webhome/webpack/bootstrap","webpack://webhome/./js/script.js"],"sourcesContent":["function comment() {\r\n\r\n    let btn = document.querySelector('.comment-btn'),\r\n        list = document.querySelector('.comment_list'),\r\n        box = document.querySelector('.comments_box');\r\n\r\n    function addCard(name, text){\r\n        let card = document.createElement('div');\r\n        card.classList.add('card')\r\n        card.innerHTML = `\r\n        <p>${name}</p>\r\n        <p>${text}</p>\r\n    `\r\n        box.append(card);\r\n    }\r\n\r\n\r\n    function showFirstPage(num = 1){\r\n        fetch('https://jordan.ashton.fashion/api/goods/30/comments?page=' + num)\r\n            .then(data => data.json())\r\n            .then(res => {\r\n                res.data.forEach(item => {\r\n                    addCard(item.name, item.text);\r\n                });\r\n                addPag(num);\r\n            })\r\n    }\r\n    showFirstPage();\r\n\r\n    function showPage(num = 1){\r\n        fetch('https://jordan.ashton.fashion/api/goods/30/comments?page=' + num)\r\n            .then(data => data.json())\r\n            .then(res => {\r\n                box.innerHTML = '';\r\n                res.data.forEach(item => {\r\n                    addCard(item.name, item.text);\r\n                });\r\n            })\r\n    }\r\n\r\n    function removeClass(){\r\n        document.querySelectorAll('.pagination_num').forEach(item=>{\r\n            item.classList.remove('active')\r\n        })\r\n    }\r\n\r\n    function addPag(num){\r\n        removeClass();\r\n        let pag = document.createElement('div');\r\n        pag.classList.add('pagination_num', 'active')\r\n        pag.innerHTML = num;\r\n\r\n        list.append(pag);\r\n    }\r\n\r\n    list.addEventListener('click', (e) => {\r\n        console.log(e)\r\n        if(!e.target.classList.contains('active')){\r\n            removeClass()\r\n            e.target.classList.add('active');\r\n        }else{\r\n            removeClass()\r\n            e.target.classList.add('active');\r\n        }\r\n        showPage(e.target.innerHTML);\r\n    })\r\n\r\n    let counter = 2;\r\n    btn.addEventListener('click', async ()=>{\r\n        await fetch('https://jordan.ashton.fashion/api/goods/30/comments?page=' + counter)\r\n            .then(data => data.json())\r\n            .then(res => {\r\n                box.innerHTML = ''\r\n                res.data.forEach(item => {\r\n                    addCard(item.name, item.text);\r\n                })\r\n                if(res.last_page == counter){\r\n                    btn.style.display = 'none'\r\n                }\r\n            }).catch(()=>{\r\n                console.log('ERROR')\r\n            }).finally(()=> {\r\n                addPag(counter);\r\n                counter++;\r\n            })\r\n    })\r\n\r\n}\r\n\r\nmodule.exports = comment;","function form(){\r\n    const postData = async (url, name, text) => {\r\n        let res = await fetch(url, {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({name: name, text: text })\r\n        });\r\n\r\n        return await res.json();\r\n    };\r\n\r\n    let message = document.createElement('div');\r\n    message.innerHTML = 'Все поля должны быть заполнены!';\r\n\r\n    const form = document.querySelector('.form');\r\n\r\n    bindPostData(form);\r\n    function bindPostData(form) {\r\n        form.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n            const input = document.querySelector('.form-input'),\r\n                textarea = document.querySelector('.form-textarea');\r\n\r\n            if(!input.value || !textarea.value) {\r\n                textarea.after(message);\r\n            }else {\r\n                postData('https://jordan.ashton.fashion/api/goods/30/comments', input.value, textarea.value)\r\n                    .then(() => console.log('Ok'))\r\n                    .catch(() => console.log('Error'))\r\n                    .finally(() => {\r\n                        form.reset();\r\n                        message.remove();\r\n                    });\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = form;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","window.addEventListener('DOMContentLoaded', function() {\r\n    const comment = require('./modules/comment'),\r\n        form = require('./modules/form');\r\n\r\n    comment();\r\n    form();\r\n});"],"names":[],"sourceRoot":""}